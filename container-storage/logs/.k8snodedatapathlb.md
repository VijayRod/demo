```
layer 3 (tcp/udp):
./layer3 lb
./k8s svc lb

layer 7 (http/https):
./agc
./agic
```

## lb.SLB/MUX

- https://learn.microsoft.com/en-us/azure/azure-local/concepts/software-load-balancer: VIPs are located in the SLB Multiplexer (MUX). The MUX consists of one or more VMs. Network Controller provides each MUX with each VIP, and each MUX in turn uses Border Gateway Protocol (BGP) to advertise each VIP to routers on the physical network as a /32 route. 
  - Load balance - the MUX uses the VIP to select a DIP, encapsulates the packet, and forwards the traffic to the Hyper-V host where the DIP is located.
  - Network Address Translation (NAT) - the Hyper-V host removes encapsulation from the packet, translates the VIP to a DIP, remaps the ports, and forwards the packet to the DIP VM.
  - When tenant VMs respond and send outbound network traffic back to the internet or remote tenant locations, because the NAT is performed by the Hyper-V host, the traffic bypasses the MUX and goes directly to the edge router from the Hyper-V host. This MUX bypass process is called Direct Server Return (DSR). And after the initial network traffic flow is established, the inbound network traffic bypasses the SLB MUX completely.
